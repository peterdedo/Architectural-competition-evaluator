<!DOCTYPE html>
<html>
<head>
    <title>Debug Toalety</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 50px auto; padding: 20px; }
        pre { background: #f3f4f6; padding: 12px; border-radius: 4px; overflow-x: auto; }
        button { background: #dc2626; color: white; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; margin: 10px; }
    </style>
</head>
<body>
    <h1>üîç Debug Toalety</h1>
    <button onclick="debugToilets()">Debug Toalety</button>
    <button onclick="removeToilets()">Odstr√°ni≈• Toalety</button>
    <pre id="output">Kliknite na Debug Toalety...</pre>

    <script>
        function debugToilets() {
            const customInd = JSON.parse(localStorage.getItem('urban-analysis-custom-indicators') || '[]');
            const vybrane = JSON.parse(localStorage.getItem('urban-analysis-vybrane-indikatory') || '[]');
            
            const toiletIndicator = customInd.find(i => i.id === 'custom_1761333530207');
            const isSelected = vybrane.includes('custom_1761333530207');
            
            document.getElementById('output').textContent = 
                `üîç DEBUG TOALETY:\n\n` +
                `Custom indik√°tory celkovo: ${customInd.length}\n` +
                `Vybran√© indik√°tory celkovo: ${vybrane.length}\n\n` +
                `Toalety n√°jden√©: ${toiletIndicator ? '√ÅNO' : 'NIE'}\n` +
                `Toalety vybran√©: ${isSelected ? '√ÅNO' : 'NIE'}\n\n` +
                `V≈°etky custom indik√°tory:\n${JSON.stringify(customInd, null, 2)}\n\n` +
                `Vybran√© indik√°tory:\n${JSON.stringify(vybrane, null, 2)}`;
        }
        
        function removeToilets() {
            // 1. Odstr√°≈à z custom indik√°torov
            const customInd = JSON.parse(localStorage.getItem('urban-analysis-custom-indicators') || '[]');
            const filteredCustom = customInd.filter(i => i.id !== 'custom_1761333530207');
            localStorage.setItem('urban-analysis-custom-indicators', JSON.stringify(filteredCustom));
            
            // 2. Odstr√°≈à z vybran√Ωch indik√°torov
            const vybrane = JSON.parse(localStorage.getItem('urban-analysis-vybrane-indikatory') || '[]');
            const filteredVybrane = vybrane.filter(id => id !== 'custom_1761333530207');
            localStorage.setItem('urban-analysis-vybrane-indikatory', JSON.stringify(filteredVybrane));
            
            document.getElementById('output').textContent = 
                `‚úÖ TOALETY ODST√ÅNEN√â!\n\n` +
                `Custom indik√°tory: ${customInd.length} ‚Üí ${filteredCustom.length}\n` +
                `Vybran√© indik√°tory: ${vybrane.length} ‚Üí ${filteredVybrane.length}\n\n` +
                `Obnovte str√°nku aplik√°cie (Ctrl+F5)!`;
        }
    </script>
</body>
</html>